{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "GlueConfigSchema",
    "type": "object",
    "properties": {
        "gen": {
            "$ref": "#/$defs/GlueConfigSchema::GenConfig",
            "description": "Per-generation configuration entries"
        },
        "global": {
            "$ref": "#/$defs/GlueConfigSchema::Global",
            "description": "Global defaults applied to all generation entries"
        }
    },
    "$defs": {
        "GlueConfigSchema": {
            "type": "object",
            "properties": {
                "gen": {
                    "$ref": "#/$defs/GlueConfigSchema::GenConfig",
                    "description": "Per-generation configuration entries"
                },
                "global": {
                    "$ref": "#/$defs/GlueConfigSchema::Global",
                    "description": "Global defaults applied to all generation entries"
                }
            }
        },
        "GlueConfigSchema::GenConfig": {
            "type": "object",
            "properties": {
                "config_overrides": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation",
                    "description": "Per-generation configuration overrides"
                },
                "files": {
                    "type": "string",
                    "description": "Glob selector for input files"
                },
                "output": {
                    "type": "string",
                    "description": "Output path template (supports {file_name} and {file_ext})"
                }
            }
        },
        "GlueConfigSchema::Generation": {
            "type": "object",
            "properties": {
                "python": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation::Python",
                    "description": "Configurations for Python code generation (`glue gen python [...]`)"
                },
                "rust": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation::Rust",
                    "description": "Configurations for Rust code generation (`glue gen rust [...]`)"
                },
                "watermark": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation::Watermark",
                    "description": "Mode for the watermark at the top of the generated files. Defaults to \"short\" if not specified."
                }
            }
        },
        "GlueConfigSchema::Generation::Python": {
            "type": "object",
            "properties": {
                "base_model": {
                    "type": "string",
                    "description": "For pydantic: the full import path for the base model class. Defaults to `pydantic.BaseModel`."
                },
                "data_model_library": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation::Python::DataModelLibrary",
                    "description": "The Python modeling library to use. Defaults to \"pydantic\"."
                }
            }
        },
        "GlueConfigSchema::Generation::Python::DataModelLibrary": {
            "type": "string",
            "description": "The Python modeling library",
            "enum": [
                "pydantic",
                "dataclasses",
                "attrs",
                "msgspec"
            ]
        },
        "GlueConfigSchema::Generation::Rust": {
            "type": "object",
            "properties": {
                "include_yaml": {
                    "type": "boolean",
                    "description": "Include serde_yaml support in generated output"
                }
            }
        },
        "GlueConfigSchema::Generation::Watermark": {
            "type": "string",
            "description": "Mode for generating the watermark comment at the top of generated files",
            "enum": [
                "full",
                "short",
                "none"
            ]
        },
        "GlueConfigSchema::Global": {
            "type": "object",
            "properties": {
                "config": {
                    "$ref": "#/$defs/GlueConfigSchema::Generation",
                    "description": "Default code generation configuration"
                },
                "output_base_dir": {
                    "type": "string",
                    "description": "Base directory for generated output (relative to the config file if not absolute)"
                }
            }
        }
    }
}